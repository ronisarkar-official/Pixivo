<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta
			name="viewport"
			content="width=device-width, initial-scale=1.0" />
		<title>Pinterest Style Auth Modal</title>
		<script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
		<link
			href="https://cdn.jsdelivr.net/npm/remixicon@4.5.0/fonts/remixicon.css"
			rel="stylesheet" />
		<style>
			.auth-input {
				@apply w-full px-4 py-3 border border-gray-300 rounded-full focus:outline-none focus:border-red-500 transition;
			}
			.auth-btn {
				@apply w-full py-3 bg-gradient-to-r from-red-500 to-pink-500 text-white rounded-full font-semibold text-lg shadow-md hover:shadow-lg hover:scale-[1.02] transition;
			}
			.link {
				@apply text-red-500 font-medium hover:underline;
			}
		</style>
	</head>

	<body>
		<div class="bg-gray-100 font-sans">
			<!-- NAVBAR -->
			<nav class="bg-white shadow fixed w-full z-50 top-0 left-0">
				<div
					class="max-w-7xl mx-auto px-4 py-3 flex justify-between items-center">
					<a
						href="/"
						class="text-2xl font-bold text-red-500"
						>
						<img
								src="/images/pixivo-logo1.png"
								alt="Pixivo Logo"
								class="h-10 w-auto" />
						</a>
					<div class="space-x-3">
						<button
							onclick="openModal('login')"
							class="px-5 py-2 bg-red-500 text-white rounded-full font-semibold hover:bg-red-600 transition"
							>Login</button
						>
						<button
							onclick="openModal('register')"
							class="px-5 py-2 bg-gray-200 text-gray-800 rounded-full font-semibold hover:bg-gray-300 transition"
							>Register</button
						>
					</div>
				</div>
			</nav>

			<!-- AUTH MODAL -->
			<div
				id="authModal"
				class="fixed inset-0 flex items-center justify-center bg-opacity-50 opacity-0 pointer-events-none transition duration-300 z-50 backdrop-blur-sm">
				<div
					id="modalContent"
					class="relative bg-white rounded-3xl shadow-2xl w-[420px] p-8 transform scale-90 transition duration-300">
					<!-- Close Button -->
					<button
						onclick="closeModal()"
						class="absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition">
						<svg
							xmlns="http://www.w3.org/2000/svg"
							class="h-6 w-6"
							fill="none"
							viewBox="0 0 24 24"
							stroke="currentColor"
							stroke-width="2">
							<path
								stroke-linecap="round"
								stroke-linejoin="round"
								d="M6 18L18 6M6 6l12 12" />
						</svg>
					</button>

					<!-- LOGIN FORM -->
					<form
						id="loginForm"
						action="/login"
						method="POST"
						class="p-8 max-w-md mx-auto space-y-6">
						<h2 class="text-3xl font-bold text-gray-800 text-center"
							>Welcome back</h2
						>
						<p class="text-center text-gray-500">Log in to see more</p>
						<% if (error.length > 0) { %>

						<p
							class="mb-2 text-sm text-red-600 bg-red-100 border border-red-300 rounded-lg px-4 py-2 shadow-sm">
							<%= error %>
						</p>

						<% } %>

						<input
							type="text"
							name="username"
							placeholder="Username"
							required
							class="w-full px-4 py-3 rounded-xl border border-gray-300 focus:border-red-500 focus:ring-2 focus:ring-red-200 outline-none transition-all duration-200" />

						<input
							type="password"
							name="password"
							placeholder="Password"
							required
							class="w-full px-4 py-3 rounded-xl border border-gray-300 focus:border-red-500 focus:ring-2 focus:ring-red-200 outline-none transition-all duration-200" />
						<div class="text-right">
							<a
								href="/forgot"
								class="text-sm text-blue-500 hover:underline"
								>Forgot your password?</a
							>
						</div>

						<input
							type="submit"
							class="w-full bg-red-500 text-white font-semibold py-3 rounded-xl hover:bg-red-600 transition-colors duration-200 shadow-md"
							value="Login" />

						<p class="text-sm text-gray-600 text-center">
							Don't have an account?
							<button
								type="button"
								onclick="switchForm('register')"
								class="text-red-500 hover:underline font-medium">
								Sign up
							</button>
						</p>
					</form>

					<!-- REGISTER FORM -->
					<form
						id="registerForm"
						action="/register"
						method="POST"
						class="hidden p-8 max-w-md mx-auto space-y-6">
						<h2 class="text-3xl font-bold text-gray-800 text-center"
							>Join Pinterest</h2
						>
						<p class="text-center text-gray-500">Find new ideas to try</p>
						<% if (error && error.length > 0) { %>
						<p
							class="server-error mb-2 text-sm text-red-600 bg-red-100 border border-red-300 rounded-lg px-4 py-2 shadow-sm">
							<%= error %>
						</p>
						<% } %>

						<input
							type="text"
							name="fullname"
							placeholder="Full Name"
							required
							class="w-full px-4 py-3 rounded-xl border border-gray-300 focus:border-red-500 focus:ring-2 focus:ring-red-200 outline-none transition-all duration-200" />

						<input
							type="email"
							name="email"
							placeholder="Email"
							required
							class="w-full px-4 py-3 rounded-xl border border-gray-300 focus:border-red-500 focus:ring-2 focus:ring-red-200 outline-none transition-all duration-200" />

						<input
							type="text"
							name="username"
							placeholder="Username"
							class="w-full px-4 py-3 rounded-xl border border-gray-300 focus:border-red-500 focus:ring-2 focus:ring-red-200 outline-none transition-all duration-200" />

						<input
							type="password"
							name="password"
							placeholder="Password"
							required
							class="w-full px-4 py-3 rounded-xl border border-gray-300 focus:border-red-500 focus:ring-2 focus:ring-red-200 outline-none transition-all duration-200" />

						<input
							type="submit"
							value="Sign Up"
							class="w-full bg-red-500 text-white font-semibold py-3 rounded-xl hover:bg-red-600 transition-colors duration-200 shadow-md" />

						<p class="text-sm text-gray-600 text-center">
							Already have an account?
							<button
								type="button"
								onclick="switchForm('login')"
								class="text-red-500 hover:underline font-medium">
								Log in
							</button>
						</p>
					</form>
				</div>
			</div>

			<!-- CUSTOM STYLES -->
		</div>

		<script>
			const modal = document.getElementById('authModal');
			const modalContent = document.getElementById('modalContent');
			const loginForm = document.getElementById('loginForm');
			const registerForm = document.getElementById('registerForm');

			function openModal(type) {
				modal.classList.remove('pointer-events-none', 'opacity-0');
				modal.classList.add('opacity-100');
				modalContent.classList.remove('scale-90');
				modalContent.classList.add('scale-100');
				if (type === 'login') {
					showLogin();
				} else {
					showRegister();
				}
			}

			function closeModal() {
				modal.classList.add('pointer-events-none', 'opacity-0');
				modal.classList.remove('opacity-100');
				modalContent.classList.add('scale-90');
				modalContent.classList.remove('scale-100');
			}

			modal.addEventListener('click', (e) => {
				if (e.target === modal) closeModal();
			});

			function switchForm(type) {
				if (type === 'login') {
					showLogin();
				} else {
					showRegister();
				}
			}

			function showLogin() {
				loginForm.classList.remove('hidden');
				registerForm.classList.add('hidden');
			}

			function showRegister() {
				registerForm.classList.remove('hidden');
				loginForm.classList.add('hidden');
			}
		</script>
	</body>
</html>
